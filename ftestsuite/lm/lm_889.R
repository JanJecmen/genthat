
expected <- structure(list(coefficients = structure(c(54.875, 1.7125, 1.67916666666667, 
-1.82291666666667, -1.01375, 0.295), .Names = c("(Intercept)", 
"block1", "block2", "block3", "block4", "block5")), residuals = structure(c(-4.52499999999998, 
8.775, -7.22500000000001, 2.97499999999999, 2.35, 1.05, -1.95, 
-1.45, 2.025, -4.975, 8.725, -5.775, 11.875, -1.325, -4.625, 
-5.925, 1.475, 0.975000000000001, -0.725000000000002, -1.725, 
0.850000000000002, 2.65, -3.15, -0.350000000000001), .Names = c("1", 
"2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", 
"14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24"
)), effects = structure(c(-268.831499270454, 4.84368145112785, 
8.22620305284684, -12.6295371385231, -9.06725564876165, 3.23156308928048, 
2.16942283796302, 2.66942283796302, -1.69857804686295, -8.69857804686295, 
5.00142195313705, -9.49857804686295, 12.6120542084211, -0.587945791578933, 
-3.88794579157893, -5.18794579157893, 5.06933656497536, 4.56933656497536, 
2.86933656497535, 1.86933656497535, 4.3825322144351, 6.18253221443509, 
0.382532214435095, 3.18253221443509), .Names = c("(Intercept)", 
"block1", "block2", "block3", "block4", "block5", "", "", "", 
"", "", "", "", "", "", "", "", "", "", "", "", "", "", "")), 
    rank = 6L, fitted.values = structure(c(54.025, 54.025, 54.025, 
    54.025, 57.45, 57.45, 57.45, 57.45, 60.775, 60.775, 60.775, 
    60.775, 50.125, 50.125, 50.125, 50.125, 50.525, 50.525, 50.525, 
    50.525, 56.35, 56.35, 56.35, 56.35), .Names = c("1", "2", 
    "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", 
    "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", 
    "24")), assign = c(0L, 1L, 1L, 1L, 1L, 1L), qr = structure(list(
        qr = structure(c(-4.89897948556636, 0.204124145231932, 
        0.204124145231932, 0.204124145231932, 0.204124145231932, 
        0.204124145231932, 0.204124145231932, 0.204124145231932, 
        0.204124145231932, 0.204124145231932, 0.204124145231932, 
        0.204124145231932, 0.204124145231932, 0.204124145231932, 
        0.204124145231932, 0.204124145231932, 0.204124145231932, 
        0.204124145231932, 0.204124145231932, 0.204124145231932, 
        0.204124145231932, 0.204124145231932, 0.204124145231932, 
        0.204124145231932, 0, 2.82842712474619, 0.293618720289987, 
        0.293618720289987, -0.413488060896561, -0.413488060896561, 
        -0.413488060896561, -0.413488060896561, -0.0599346703032871, 
        -0.0599346703032871, -0.0599346703032871, -0.0599346703032871, 
        -0.0599346703032871, -0.0599346703032871, -0.0599346703032871, 
        -0.0599346703032871, -0.0599346703032871, -0.0599346703032871, 
        -0.0599346703032871, -0.0599346703032871, -0.0599346703032871, 
        -0.0599346703032871, -0.0599346703032871, -0.0599346703032871, 
        0, -1.11022302462516e-16, 4.89897948556635, 0.131043903848683, 
        0.223705936893245, 0.223705936893245, 0.223705936893245, 
        0.223705936893245, -0.434997515324831, -0.434997515324831, 
        -0.434997515324831, -0.434997515324831, -0.0267492248609678, 
        -0.0267492248609678, -0.0267492248609678, -0.0267492248609678, 
        -0.0267492248609678, -0.0267492248609678, -0.0267492248609678, 
        -0.0267492248609678, -0.0267492248609678, -0.0267492248609678, 
        -0.0267492248609678, -0.0267492248609678, 0, 1.11022302462516e-16, 
        1.11022302462516e-16, 6.92820323027551, 0.139856626635482, 
        0.139856626635482, 0.139856626635482, 0.139856626635482, 
        0.16106066551341, 0.16106066551341, 0.16106066551341, 
        0.16106066551341, -0.449735800108223, -0.449735800108223, 
        -0.449735800108223, -0.449735800108223, -0.016723098216004, 
        -0.016723098216004, -0.016723098216004, -0.016723098216004, 
        -0.016723098216004, -0.016723098216004, -0.016723098216004, 
        -0.016723098216004, 0, 2.22044604925031e-16, 0, 0, 8.94427190999916, 
        0.100129274681248, 0.100129274681248, 0.100129274681248, 
        0.115310143005018, 0.115310143005018, 0.115310143005018, 
        0.115310143005018, 0.125228713221935, 0.125228713221935, 
        0.125228713221935, 0.125228713221935, -0.459186368868474, 
        -0.459186368868474, -0.459186368868474, -0.459186368868474, 
        -0.0119727733685158, -0.0119727733685158, -0.0119727733685158, 
        -0.0119727733685158, 2.22044604925031e-16, 2.22044604925031e-16, 
        0, 0, 1.11022302462516e-16, 10.9544511501033, 0.0743141849867595, 
        0.0743141849867595, 0.0855811582117598, 0.0855811582117598, 
        0.0855811582117598, 0.0855811582117598, 0.0929425464196601, 
        0.0929425464196601, 0.0929425464196601, 0.0929425464196601, 
        0.115635425157402, 0.115635425157402, 0.115635425157402, 
        0.115635425157402, -0.465321446212342, -0.465321446212342, 
        -0.465321446212342, -0.465321446212342), .Dim = c(24L, 
        6L), .Dimnames = list(c("1", "2", "3", "4", "5", "6", 
        "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", 
        "17", "18", "19", "20", "21", "22", "23", "24"), c("(Intercept)", 
        "block1", "block2", "block3", "block4", "block5")), assign = c(0L, 
        1L, 1L, 1L, 1L, 1L), contrasts = structure(list(block = "contr.helmert"), .Names = "block")), 
        qraux = c(1.20412414523193, 1.29361872028999, 1.13104390384868, 
        1.08192611509531, 1.10012927468125, 1.07431418498676), 
        pivot = 1:6, tol = 1e-07, rank = 6L), .Names = c("qr", 
    "qraux", "pivot", "tol", "rank"), class = "qr"), df.residual = 18L, 
    contrasts = structure(list(block = "contr.helmert"), .Names = "block"), 
    xlevels = structure(list(block = c("1", "2", "3", "4", "5", 
    "6")), .Names = "block"), call = quote(lm(formula = yield ~ 
        block, data = npk, method = "qr", qr = TRUE, singular.ok = TRUE)), 
    terms = yield ~ block, model = structure(list(yield = c(49.5, 
    62.8, 46.8, 57, 59.8, 58.5, 55.5, 56, 62.8, 55.8, 69.5, 55, 
    62, 48.8, 45.5, 44.2, 52, 51.5, 49.8, 48.8, 57.2, 59, 53.2, 
    56), block = structure(c(1L, 1L, 1L, 1L, 2L, 2L, 2L, 2L, 
    3L, 3L, 3L, 3L, 4L, 4L, 4L, 4L, 5L, 5L, 5L, 5L, 6L, 6L, 6L, 
    6L), .Label = c("1", "2", "3", "4", "5", "6"), class = "factor")), .Names = c("yield", 
    "block"), terms = yield ~ block, row.names = c(NA, 24L), class = "data.frame")), .Names = c("coefficients", 
"residuals", "effects", "rank", "fitted.values", "assign", "qr", 
"df.residual", "contrasts", "xlevels", "call", "terms", "model"
), class = "lm")
test(id=1088, code={
require(stats)
lm(data = npk, formula = yield ~ block, method = "qr", qr = TRUE, 
    singular.ok = TRUE)}, o = expected)